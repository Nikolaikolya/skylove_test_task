(function(t){function e(e){for(var r,s,i=e[0],o=e[1],u=e[2],d=0,b=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&b.push(c[s][0]),c[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);l&&l(e);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var o=n[i];0!==c[o]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},c={app:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"043e":function(t,e,n){"use strict";n("0fe9")},"0fe9":function(t,e,n){},1507:function(t,e,n){},"28e6":function(t,e,n){},3552:function(t,e,n){"use strict";n("28e6")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c={class:"container"},a=Object(r["g"])("h1",{class:"main-title"},"Tickers List",-1);function s(t,e,n,s,i,o){var u=Object(r["w"])("tickers-list"),l=Object(r["w"])("modal");return Object(r["p"])(),Object(r["d"])("div",c,[a,Object(r["g"])(u),Object(r["g"])("button",{type:"button",class:"btn btn-primary btn-add-tickers",onClick:e[1]||(e[1]=function(){return o.showModal&&o.showModal.apply(o,arguments)})}," Добавить заявку "),Object(r["D"])(Object(r["g"])(l,{onClose:e[2]||(e[2]=function(t){return i.modalShow=!1})},null,512),[[r["B"],i.modalShow]])])}var i=Object(r["F"])("data-v-41c7dbf7");Object(r["s"])("data-v-41c7dbf7");var o=Object(r["g"])("div",{class:"modal-header"},[Object(r["g"])("span",{class:"modal-title"},"Новый тикет")],-1),u={class:"modal-body"};Object(r["q"])();var l=i((function(t,e,n,c,a,s){var i=Object(r["w"])("modal-form");return Object(r["p"])(),Object(r["d"])("div",{class:"modal__wrapper",onClick:e[3]||(e[3]=function(e){return t.$emit("close")})},[Object(r["g"])("div",{class:"modal-content",onClick:e[2]||(e[2]=Object(r["E"])((function(){}),["stop"]))},[o,Object(r["g"])("div",u,[Object(r["g"])(i,{onClose:e[1]||(e[1]=function(e){return t.$emit("close")})})])])])})),d=(n("b0c0"),Object(r["F"])("data-v-37246307"));Object(r["s"])("data-v-37246307");var b=Object(r["g"])("label",{for:"name"},"Имя:",-1),p={key:0},j=Object(r["g"])("label",{for:"email"},"Email:",-1),O={key:0},m=Object(r["g"])("label",{for:"message"},"Сообщение:",-1),f={key:0},h={key:0},g=Object(r["f"])(),v=Object(r["g"])("br",null,null,-1),y={key:1},k=Object(r["f"])(),w=Object(r["g"])("br",null,null,-1),_={key:2},D=Object(r["f"])(),S=Object(r["g"])("br",null,null,-1),x=Object(r["g"])("button",{class:"btn btn-create"},"Создать",-1);Object(r["q"])();var T=d((function(t,e,n,c,a,s){var i=Object(r["w"])("selection");return Object(r["p"])(),Object(r["d"])("form",{onSubmit:e[6]||(e[6]=Object(r["E"])((function(){return s.sendNewPost&&s.sendNewPost.apply(s,arguments)}),["prevent"])),method:"POST"},[Object(r["g"])("p",null,[b,Object(r["D"])(Object(r["g"])("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":e[1]||(e[1]=function(t){return c.state.sendData.user.name=t}),onInput:e[2]||(e[2]=function(){return s.nameValidate&&s.nameValidate.apply(s,arguments)})},null,544),[[r["A"],c.state.sendData.user.name]]),c.v$.sendData.user.name.$error?(Object(r["p"])(),Object(r["d"])("span",p,"Обязательное поле")):Object(r["e"])("",!0)]),Object(r["g"])("p",null,[j,Object(r["D"])(Object(r["g"])("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":e[3]||(e[3]=function(t){return c.state.sendData.user.email=t})},null,512),[[r["A"],c.state.sendData.user.email]]),c.v$.sendData.user.email.$error?(Object(r["p"])(),Object(r["d"])("span",O,"Обязательное поле")):Object(r["e"])("",!0)]),Object(r["g"])("p",null,[m,Object(r["D"])(Object(r["g"])("textarea",{type:"text",name:"message",id:"message","onUpdate:modelValue":e[4]||(e[4]=function(t){return c.state.sendData.body_subject=t})},"\n      ",512),[[r["A"],c.state.sendData.body_subject]]),c.v$.sendData.body_subject.$error?(Object(r["p"])(),Object(r["d"])("span",f,"Обязательное поле")):Object(r["e"])("",!0)]),Object(r["g"])(i,{title:t.subject.title,name:t.subject.name,options:t.subject.data,isSend:a.isSend,onChangeselect:s.onSelectedSubject},null,8,["title","name","options","isSend","onChangeselect"]),c.v$.sendData.subject.$error?(Object(r["p"])(),Object(r["d"])("span",h,"Обязательное поле")):Object(r["e"])("",!0),g,v,Object(r["g"])(i,{title:t.status.title,name:t.status.name,options:t.status.data,isSend:a.isSend,onChangeselect:s.onSelectedStatus},null,8,["title","name","options","isSend","onChangeselect"]),c.v$.sendData.status.$error?(Object(r["p"])(),Object(r["d"])("span",y,"Обязательное поле")):Object(r["e"])("",!0),k,w,Object(r["g"])(i,{title:t.priority.title,name:t.priority.name,options:t.priority.data,"class-name":"selection selection--last",onChangeselect:s.onSelectedPriority,isSend:a.isSend},null,8,["title","name","options","onChangeselect","isSend"]),c.v$.sendData.priority.$error?(Object(r["p"])(),Object(r["d"])("span",_,"Обязательное поле")):Object(r["e"])("",!0),D,S,x,Object(r["g"])("button",{class:"btn btn-back",type:"button",onClick:e[5]||(e[5]=function(e){return t.$emit("close")})}," Отмена ")],32)})),C=n("5530"),q=(n("ac1f"),n("5319"),Object(r["F"])("data-v-3095cdf6"));Object(r["s"])("data-v-3095cdf6");var $=Object(r["g"])("option",{value:0},null,-1);Object(r["q"])();var F=q((function(t,e,n,c,a,s){return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["g"])("label",{for:n.name},Object(r["x"])(n.title),9,["for"]),Object(r["D"])(Object(r["g"])("select",{class:n.className,name:n.name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return a.data=t}),onChange:e[2]||(e[2]=function(e){return t.$emit("changeselect",a.data)}),id:n.name},[$,(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(n.options,(function(t,e){return Object(r["p"])(),Object(r["d"])("option",{value:t.value||0===t.value?e:t.title,key:e},Object(r["x"])(t.title),9,["value"])})),128))],42,["name","id"]),[[r["z"],a.data]])],64)})),I={name:"Selection",props:{className:{type:String,default:"selection"},title:{type:String,required:!0},name:{type:String,required:!0},options:{type:Array,required:!0},isSend:{type:Boolean}},emits:["changeselect"],data:function(){return{data:""}},watch:{isSend:function(){this.isSend&&(this.data="")}},methods:{},computed:{}};n("3552");I.render=F,I.__scopeId="data-v-3095cdf6";var N=I,P=n("1da1");n("96cf"),n("d3b7");function M(t){return L.apply(this,arguments)}function L(){return L=Object(P["a"])(regeneratorRuntime.mark((function t(e){var n,r,c,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:null,r=a.length>2&&void 0!==a[2]?a[2]:"GET",c=null,t.prev=3,"GET"!==r){t.next=10;break}return t.next=7,fetch(e);case 7:c=t.sent,t.next=13;break;case 10:return t.next=12,fetch(e,{method:r,body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 12:c=t.sent;case 13:return t.next=15,c.json();case 15:return t.abrupt("return",t.sent);case 18:t.prev=18,t.t0=t["catch"](3),console.error(t.t0);case 21:case"end":return t.stop()}}),t,null,[[3,18]])}))),L.apply(this,arguments)}var E="http://localhost:3000/tickets",R=function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M(E);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M(E,e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),A=n("5502"),z={namespaced:!0,state:{tickers:[]},mutations:{setTickers:function(t,e){t.tickers=e}},actions:{loadTickers:function(t){return Object(P["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,R();case 3:r=e.sent,r?n("setTickers",r):console.error("No request data from server!");case 5:case"end":return e.stop()}}),e)})))()}},getters:{getTickers:function(t){var e=t.tickers;return e},getIdFromNewTicker:function(t){var e=t.tickers,n=e.length-1,r=e[n].ticket_number;return++r}}},U={namespaced:!0,state:{subject:{title:"Тип обращения:",name:"subject",data:[{title:"Жалоба на пользователя"},{title:"Жалоба на приложение"},{title:"Жалоба на сайт"},{title:"Оплата"},{title:"Функционал"},{title:"Авторизация"},{title:"Модерация"},{title:"Другое"}]},status:{title:"Статус:",name:"status",data:[{value:0,title:"Новый"},{value:1,title:"В обработке"},{value:2,title:"Отложено"},{value:3,title:"Закрыто"}]},priority:{title:"Приоритет:",name:"priority",data:[{value:0,title:"Низкий"},{value:1,title:"Средний"},{value:2,title:"Высокий"},{value:3,title:"Критический"}]},colors:[{color:"#a9d86e",status:"Новый"},{color:"#ff6c60",status:"В обработке"},{color:"#fcb322",status:"Отлежено"},{color:"#bec3c7",status:"Закрыто"}]}},W=Object(A["a"])({modules:{tickers:z,selection:U}}),B=n("25a0"),J=n("e3e1"),G={name:"ModalForm",components:{Selection:N},setup:function(){var t=Object(r["t"])({sendData:{id:null,user:{name:"",email:"",avatar:""},body_subject:"",subject:"",status:null,priority:null,ticket_number:null}}),e=Object(r["b"])((function(){return{sendData:{user:{name:{required:J["c"],minLength:Object(J["b"])(3)},email:{required:J["c"],email:J["a"]}},body_subject:{required:J["c"]},subject:{required:J["c"]},status:{required:J["c"]},priority:{required:J["c"]}}}})),n=Object(B["a"])(e,t);return{state:t,v$:n}},data:function(){return{isSend:!1}},mounted:function(){var t=this;document.body.addEventListener("keyup",(function(e){27===e.keyCode&&t.$emit("close")}))},computed:Object(C["a"])(Object(C["a"])(Object(C["a"])({},Object(A["c"])("selection",["subject","status","priority"])),Object(A["b"])("tickers",["getIdFromNewTicker"])),{},{getIndex:function(){return this.getIdFromNewTicker},bodySend:function(){return this.state.sendData}}),methods:{reset:function(){this.state.sendData.user.name="",this.state.sendData.user.email="",this.state.sendData.user.avatar="",this.state.sendData.ticket_number="",this.state.sendData.id="",this.state.sendData.body_subject=""},sendNewPost:function(){this.v$.$validate(),this.v$.$error?console.error("Form no success!!!"):(this.state.sendData.id=this.state.sendData.ticket_number=this.getIndex,this.state.sendData.user.avatar||(this.state.sendData.user.avatar="https://via.placeholder.com/50"),V(this.bodySend,"POST").then((function(){return W.dispatch("tickers/loadTickers")})),this.$emit("close"),this.reset(),this.isSend=!0)},nameValidate:function(t){this.v$.$error?console.error("Error"):console.log(this.v$),t.target.value=t.target.value.replace(/[^a-zA-Zа-яА-Я]/g,"")},onSelectedStatus:function(t){this.state.sendData.status=t},onSelectedPriority:function(t){this.state.sendData.priority=t},onSelectedSubject:function(t){this.state.sendData.subject=t}}};n("043e");G.render=T,G.__scopeId="data-v-37246307";var Z=G,H={components:{ModalForm:Z}};n("cb7d");H.render=l,H.__scopeId="data-v-41c7dbf7";var K=H,Q=Object(r["F"])("data-v-5da625b4");Object(r["s"])("data-v-5da625b4");var X={class:"tickers-list"};Object(r["q"])();var Y=Q((function(t,e,n,c,a,s){var i=Object(r["w"])("tickers-item");return Object(r["p"])(),Object(r["d"])("ul",X,[Object(r["g"])(i)])})),tt={class:"tickers-list__info"};function et(t,e,n,c,a,s){var i=Object(r["w"])("tickers-id"),o=Object(r["w"])("tickers-list-info"),u=Object(r["w"])("status"),l=Object(r["w"])("priority"),d=Object(r["w"])("date-time");return Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(t.getTickers,(function(e,n){return Object(r["p"])(),Object(r["d"])("li",{class:"tickers-list__item",key:n},[Object(r["g"])(i,{tickers:t.getTickers,colors:t.colors,ticket_number:e.ticket_number,index:n},null,8,["tickers","colors","ticket_number","index"]),Object(r["g"])("div",tt,[Object(r["g"])("img",{class:"tickers-list__image",src:e.user.avatar,width:"50",height:"50",alt:"Избражение пользователя"},null,8,["src"]),Object(r["g"])("h2",null,Object(r["x"])(e.user.name),1)]),Object(r["g"])(o,{body_subject:e.body_subject,subject:e.subject},null,8,["body_subject","subject"]),Object(r["g"])(u,{colors:t.colors,index:n,tickers:t.getTickers},null,8,["colors","index","tickers"]),Object(r["g"])(l,{priorityNumber:e.priority,priority:t.priority},null,8,["priorityNumber","priority"]),Object(r["g"])(d)])})),128)}function nt(t,e,n,c,a,s){return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["g"])("p",{class:"tickers-list__show-date",onClick:e[1]||(e[1]=function(t){return a.showDate=!a.showDate})},"..."),a.showDate?(Object(r["p"])(),Object(r["d"])("p",{key:0,class:"tickers-list__date",style:s.getDisplayFromDate,onClick:e[2]||(e[2]=function(t){return a.showDate=!a.showDate})},Object(r["x"])(s.getDate),5)):Object(r["e"])("",!0)],64)}var rt={name:"DateTime",data:function(){return{showDate:!0}},computed:{getDate:function(){return new Date(Date.now()).toLocaleString()},getDisplayFromDate:function(){return{display:this.showDate?"inline-block":"none"}}},methods:{updateWidth:function(){this.width=window.innerWidth,this.width<1120&&this.width>759?this.showDate=!1:this.showDate=!0}},created:function(){window.addEventListener("resize",this.updateWidth),this.updateWidth()}};rt.render=nt;var ct=rt,at=Object(r["F"])("data-v-bd6ff286");Object(r["s"])("data-v-bd6ff286");var st={class:"tickers-list__priority"},it=Object(r["g"])("svg",{width:"30px",height:"30px",viewBox:"0 0 20 20",fill:"#bac698",xmlns:"http://www.w3.org/2000/svg"},[Object(r["g"])("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})],-1),ot={class:"tickers-list__priority-text"};Object(r["q"])();var ut=at((function(t,e,n,c,a,s){return Object(r["p"])(),Object(r["d"])("p",st,[it,Object(r["g"])("span",ot,Object(r["x"])(s.getPriorityTitle),1)])})),lt=(n("a9e3"),{name:"Priority",props:{priorityNumber:{type:Number,required:!0},priority:{type:Object,required:!0}},computed:{getPriorityTitle:function(){return this.priority.data[this.priorityNumber].title}}});n("7f9a6");lt.render=ut,lt.__scopeId="data-v-bd6ff286";var dt=lt,bt={class:"tickers-list__status"};function pt(t,e,n,c,a,s){return Object(r["p"])(),Object(r["d"])("p",bt,[Object(r["g"])("span",{style:s.getColor,class:"circle"},null,4),Object(r["f"])(" "+Object(r["x"])(s.getStatus),1)])}var jt={name:"Status",props:{colors:{required:!0,type:Object},index:{required:!0,type:Number},tickers:{required:!0}},computed:{getObjectFromColors:function(){return this.tickers[this.index].status},getColor:function(){return{backgroundColor:this.colors[this.getObjectFromColors].color}},getStatus:function(){return this.colors[this.getObjectFromColors].status}}};jt.render=pt;var Ot=jt,mt={class:"tickers-list-info"},ft={class:"tickers-list-info__type"},ht=Object(r["f"])(" Тип обращения: "),gt={class:"tickers-list-info__type-content"},vt={class:"tickers-list-info__text"};function yt(t,e,n,c,a,s){return Object(r["p"])(),Object(r["d"])("div",mt,[Object(r["g"])("p",ft,[ht,Object(r["g"])("span",gt,Object(r["x"])(n.subject),1)]),Object(r["g"])("p",vt,Object(r["x"])(n.body_subject),1)])}var kt={name:"TickersListInfo",props:{subject:{type:String,required:!0},body_subject:{type:String,required:!0}}};kt.render=yt;var wt=kt;function _t(t,e,n,c,a,s){return Object(r["p"])(),Object(r["d"])("p",{class:"tickers-list__id",style:s.getColor},"#"+Object(r["x"])(n.ticket_number),5)}var Dt={name:"TickersId",props:{tickers:{required:!0,type:Object},colors:{required:!0,type:Object},ticket_number:{required:!0,type:Number},index:{required:!0}},computed:{getObjectFromColors:function(){return this.tickers[this.index].status},getColor:function(){return{backgroundColor:this.colors[this.getObjectFromColors].color}}}};Dt.render=_t;var St=Dt,xt={name:"TickersItem",components:{TickersId:St,TickersListInfo:wt,Status:Ot,Priority:dt,DateTime:ct},computed:Object(C["a"])(Object(C["a"])({},Object(A["b"])("tickers",["getTickers","getIdFromNewTicker"])),Object(A["c"])("selection",["colors","priority"]))};xt.render=et;var Tt=xt,Ct={name:"TickersList",components:{TickersItem:Tt}};n("814d");Ct.render=Y,Ct.__scopeId="data-v-5da625b4";var qt=Ct,$t={name:"App",data:function(){return{modalShow:!1}},components:{Modal:K,TickersList:qt},methods:{showModal:function(){this.modalShow=!this.modalShow}}};n("a33b");$t.render=s;var Ft=$t,It=(n("f9e3"),n("78a7"),Object(r["c"])(Ft));It.use(W),W.dispatch("tickers/loadTickers").then((function(){return It.mount("#app")}))},"5c50":function(t,e,n){},"78a7":function(t,e,n){},"7f9a6":function(t,e,n){"use strict";n("d649")},"814d":function(t,e,n){"use strict";n("5c50")},a33b:function(t,e,n){"use strict";n("1507")},c558:function(t,e,n){},cb7d:function(t,e,n){"use strict";n("c558")},d649:function(t,e,n){}});
//# sourceMappingURL=app.b6b8fd1d.js.map